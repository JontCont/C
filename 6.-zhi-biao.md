# 6. 指標

## 指標 \(pointer\)

一個指向某個儲存位址的變數，語法為

```c
int *ptr = &var;
```

 其中

* & ：取變數位址
* \*  ： 表示為指標變數

  
也可用於函數變為函式指標 \(function pointer\)，語法為

```c
void (*fptr)(type_a, type_b) = &func;
```

 常用的地方如下  


函式 sort 時傳入判斷準則

1. multithread 傳函數進入建立 thread 的 API 中
2. callback function \(一種事件導向的函式\)

## **基礎指標判讀**

指標判讀大原則為「從右讀到左」，例如：

```c
int a; // 一個整型數
int *a; // 一個指向整數的指標
int **a; // 一個指向指標的指標，它指向的指標是指向一個整型數
int a[10]; // 一個有10個整數型的陣列
int *a[10]; // 一個有10個指標的陣列，該指標是指向一個整數型的
int (*a)[10]; // 一個指向有10個整數型陣列的指標
int (*a)(int); // 一個指向函數的指標，該函數有一個整數型參數並返回一個整數
int (*a[10])(int); // 一個有10個指標的陣列，該指標指向一個函數，該函數有一個整數型參數並返回一個整數
```

注意宣告兩個指標時不能寫做 int _a, b; 因為前式等價於 int_ a; int b;。連續宣告兩個指標用 int _a,_ b;

## **指標與其他關鍵字混用**

關鍵字 volatile 等等判讀方式相同。

```c
const int * foo; // 一個 pointer，指向 const int 變數。
int const * foo; // 一個 pointer，指向 const int 變數。
int * const foo; // 一個 const pointer，指向 int 變數。
int const * const foo; // 一個 const pointer，指向 const int 變數。
```

## 傳值 call by value,、傳址 call by reference\(address\)

1. call by value  傳值 : 最常見的函式寫法，呼叫者和被呼叫者的變數各自佔有記憶體，將參數複製再傳給函式，而 **C語言目前只有這個功能**。
2. call by reference 傳址 : 呼叫者和被呼叫者的變數使用相同的記憶體位址，因此在被呼叫函式中改變變數時，變動結果會保留。\(C++ 才有，寫法為 type func\(type &var\) { ... }\)

